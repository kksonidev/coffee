<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Apply Now - Brewtopia Franchise</title>
   <script src="https://cdn.tailwindcss.com"></script>
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Playfair+Display:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
   <style>
       :root {
           --coffee-dark: #2C1810;
           --coffee-medium: #4A2C17;
           --coffee-light: #8B4513;
           --cream: #F5F1EB;
           --gold: #D4A574;
           --amber: #F59E0B;
       }

       * {
           margin: 0;
           padding: 0;
           box-sizing: border-box;
       }

       body {
           font-family: 'Inter', sans-serif;
           background: linear-gradient(135deg, var(--cream) 0%, #F0EBE3 100%);
           overflow-x: hidden;
       }

       .font-display {
           font-family: 'Playfair Display', serif;
       }

       .gradient-text {
           background: linear-gradient(135deg, var(--coffee-dark) 0%, var(--coffee-medium) 50%, var(--gold) 100%);
           -webkit-background-clip: text;
           -webkit-text-fill-color: transparent;
           background-clip: text;
       }

       .glass-morphism {
           background: rgba(255, 255, 255, 0.95);
           backdrop-filter: blur(20px);
           border: 1px solid rgba(255, 255, 255, 0.2);
       }

       .progress-bar {
           height: 4px;
           background: linear-gradient(90deg, var(--amber) 0%, var(--gold) 100%);
           position: fixed;
           top: 0;
           left: 0;
           z-index: 9999;
           transition: width 0.3s ease;
       }

       .skip-link {
           position: absolute;
           top: -40px;
           left: 0;
           background: var(--amber);
           color: white;
           padding: 8px 16px;
           text-decoration: none;
           z-index: 10000;
       }

       .skip-link:focus {
           top: 0;
       }

       a:focus-visible,
       button:focus-visible,
       input:focus-visible,
       select:focus-visible,
       textarea:focus-visible {
           outline: 3px solid var(--amber);
           outline-offset: 2px;
       }

       .mobile-menu {
           display: none;
           position: fixed;
           top: 72px;
           left: 0;
           right: 0;
           background: rgba(255, 255, 255, 0.98);
           backdrop-filter: blur(20px);
           padding: 1.5rem;
           box-shadow: 0 10px 30px rgba(0,0,0,0.1);
           z-index: 40;
       }

       .mobile-menu.active {
           display: block;
       }

       .mobile-menu a {
           display: block;
           padding: 1rem 0;
           border-bottom: 1px solid rgba(0,0,0,0.1);
       }

       @media (prefers-reduced-motion: reduce) {
           *,
           *::before,
           *::after {
               animation-duration: 0.01ms !important;
               animation-iteration-count: 1 !important;
               transition-duration: 0.01ms !important;
           }
       }

       /* Form styles - IMPROVEMENT #3 */
       .form-group {
           position: relative;
       }

       .form-input,
       .form-select,
       .form-textarea {
           width: 100%;
           padding: 1rem 1.25rem;
           border: 2px solid #e5e7eb;
           border-radius: 0.75rem;
           font-size: 1rem;
           transition: all 0.3s;
           background: white;
       }

       .form-input:focus,
       .form-select:focus,
       .form-textarea:focus {
           border-color: var(--amber);
           box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.1);
       }

       .form-input.error,
       .form-select.error,
       .form-textarea.error {
           border-color: #EF4444;
       }

       .form-input.success,
       .form-select.success,
       .form-textarea.success {
           border-color: #10B981;
       }

       .error-message {
           display: none;
           color: #EF4444;
           font-size: 0.875rem;
           margin-top: 0.5rem;
           padding-left: 0.25rem;
       }

       .error-message.show {
           display: block;
       }

       .success-message {
           display: none;
           color: #10B981;
           font-size: 0.875rem;
           margin-top: 0.5rem;
           padding-left: 0.25rem;
       }

       .success-message.show {
           display: block;
       }

       /* Loading spinner */
       .spinner {
           display: inline-block;
           width: 20px;
           height: 20px;
           border: 3px solid rgba(255, 255, 255, 0.3);
           border-radius: 50%;
           border-top-color: white;
           animation: spin 0.6s linear infinite;
       }

       @keyframes spin {
           to { transform: rotate(360deg); }
       }

       /* Success modal */
       .modal {
           display: none;
           position: fixed;
           inset: 0;
           background: rgba(0, 0, 0, 0.7);
           z-index: 1000;
           justify-content: center;
           align-items: center;
           padding: 2rem;
       }

       .modal.active {
           display: flex;
       }

       .modal-content {
           background: white;
           border-radius: 1.5rem;
           padding: 3rem;
           max-width: 500px;
           text-align: center;
           box-shadow: 0 20px 60px rgba(0,0,0,0.3);
       }

       /* Sticky CTA */
       .sticky-cta {
           position: fixed;
           bottom: 2rem;
           right: 2rem;
           z-index: 50;
           display: none;
       }

       .sticky-cta.show {
           display: block;
           animation: slideUp 0.3s ease-out;
       }

       @keyframes slideUp {
           from {
               transform: translateY(100px);
               opacity: 0;
           }
           to {
               transform: translateY(0);
               opacity: 1;
           }
       }

       @media (max-width: 768px) {
           .sticky-cta {
               bottom: 1rem;
               right: 1rem;
               left: 1rem;
           }
       }
   </style>
</head>
<body class="text-gray-800 leading-relaxed">
   <a href="#main-content" class="skip-link">Skip to main content</a>
   <div class="progress-bar" id="progressBar"></div>

   <!-- Header -->
   <!-- HEADER - Single Line Navigation -->
   <header class="fixed w-full top-0 z-50 transition-all duration-300" id="navbar">
       <div class="glass-morphism">
           <div class="container mx-auto px-6 py-4">
               <div class="flex justify-between items-center">
                   <!-- Logo -->
                   <a href="index.html" class="flex items-center space-x-2">
                       <div class="w-10 h-10 bg-gradient-to-br from-amber-400 to-orange-600 rounded-full flex items-center justify-center text-white font-bold text-xl">‚òï</div>
                       <h1 class="text-3xl font-display font-bold gradient-text">Brewtopia</h1>
                   </a>

                   <!-- Desktop Navigation - Single Line -->
                   <nav class="hidden xl:flex items-center space-x-6" aria-label="Main navigation">
                       <a href="index.html" class="text-gray-700 hover:text-amber-600 transition-colors duration-300 font-medium relative group">
                           Home
                           <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-amber-600 transition-all duration-300 group-hover:w-full"></span>
                       </a>

                       <a href="story.html" class="text-gray-700 hover:text-amber-600 transition-colors duration-300 font-medium relative group">
                           Our Story
                           <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-amber-600 transition-all duration-300 group-hover:w-full"></span>
                       </a>

                       <a href="locator.html" class="text-gray-700 hover:text-amber-600 transition-colors duration-300 font-medium relative group">
                           Find Store
                           <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-amber-600 transition-all duration-300 group-hover:w-full"></span>
                       </a>

                       <a href="gallery.html" class="text-gray-700 hover:text-amber-600 transition-colors duration-300 font-medium relative group">
                           Gallery
                           <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-amber-600 transition-all duration-300 group-hover:w-full"></span>
                       </a>

                       <a href="shop.html" class="text-gray-700 hover:text-amber-600 transition-colors duration-300 font-medium relative group">
                           Shop
                           <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-amber-600 transition-all duration-300 group-hover:w-full"></span>
                       </a>

                       <a href="careers.html" class="text-gray-700 hover:text-amber-600 transition-colors duration-300 font-medium relative group">
                           Careers
                           <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-amber-600 transition-all duration-300 group-hover:w-full"></span>
                       </a>

                       <a href="barista.html" class="text-gray-700 hover:text-amber-600 transition-colors duration-300 font-medium relative group">
                           Be a Barista
                           <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-amber-600 transition-all duration-300 group-hover:w-full"></span>
                       </a>

                       <a href="franchise.html" class="text-gray-700 hover:text-amber-600 transition-colors duration-300 font-medium relative group">
                           Franchise
                           <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-amber-600 transition-all duration-300 group-hover:w-full"></span>
                       </a>

                       <a href="contact.html" class="px-6 py-2 bg-gradient-to-r from-amber-500 to-orange-600 text-white rounded-full hover:from-amber-600 hover:to-orange-700 transition-all duration-300 font-semibold shadow-lg">
                           Apply Now
                       </a>
                   </nav>

                   <!-- Mobile Menu Button -->
                   <button class="xl:hidden text-gray-700" id="mobileMenuBtn" aria-label="Toggle mobile menu" aria-expanded="false">
                       <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                           <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                       </svg>
                   </button>
               </div>
           </div>
       </div>

       <!-- Mobile Menu -->
       <div class="mobile-menu" id="mobileMenu">
           <a href="index.html" class="text-gray-900 font-semibold">Home</a>
           <a href="story.html" class="text-gray-700 hover:text-amber-600">Our Story</a>
           <a href="locator.html" class="text-gray-700 hover:text-amber-600">Find Store</a>
           <a href="gallery.html" class="text-gray-700 hover:text-amber-600">Gallery</a>
           <a href="shop.html" class="text-gray-700 hover:text-amber-600">Shop</a>
           <a href="careers.html" class="text-gray-700 hover:text-amber-600">Careers</a>
           <a href="barista.html" class="text-gray-700 hover:text-amber-600">Be a Barista</a>
           <a href="franchise.html" class="text-gray-700 hover:text-amber-600">Franchise</a>
           <a href="contact.html" class="text-amber-600 font-semibold">Apply Now</a>
       </div>
   </header>

   <main id="main-content">
       <!-- Hero Section -->
       <section class="pt-32 pb-16 px-6 bg-gradient-to-br from-amber-50 via-orange-50 to-red-50 relative overflow-hidden">
           <div class="absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23F59E0B" fill-opacity="0.05"%3E%3Ccircle cx="30" cy="30" r="4"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] opacity-40"></div>
           
           <div class="container mx-auto max-w-4xl relative z-10 text-center">
               <div class="inline-block px-4 py-2 bg-amber-100 text-amber-800 rounded-full text-sm font-semibold mb-6">
                   Start Your Journey
               </div>
               
               <h2 class="text-5xl md:text-6xl font-display font-bold mb-6 gradient-text leading-tight">
                   Apply to Join Brewtopia
               </h2>
               
               <p class="text-xl text-gray-700 leading-relaxed max-w-3xl mx-auto mb-8">
                   Take the first step towards owning your successful coffee franchise. Complete the application below and our team will contact you within 48 hours.
               </p>

               <div class="bg-white/80 backdrop-blur-sm rounded-2xl p-6 max-w-2xl mx-auto">
                   <div class="flex items-center justify-center gap-4 text-sm">
                       <div class="flex items-center gap-2">
                           <svg class="w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20">
                               <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                           </svg>
                           <span class="text-gray-700 font-medium">48-Hour Response</span>
                       </div>
                       <div class="flex items-center gap-2">
                           <svg class="w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20">
                               <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                           </svg>
                           <span class="text-gray-700 font-medium">No Obligation</span>
                       </div>
                       <div class="flex items-center gap-2">
                           <svg class="w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20">
                               <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                           </svg>
                           <span class="text-gray-700 font-medium">Confidential</span>
                       </div>
                   </div>
               </div>
           </div>
       </section>

       <!-- Form Section - IMPROVEMENT #3 -->
       <section class="py-16 px-6 bg-white">
           <div class="container mx-auto max-w-3xl">
               <form id="franchiseForm" novalidate>
                   <!-- Personal Information -->
                   <div class="mb-12">
                       <h3 class="text-2xl font-display font-bold text-gray-900 mb-6">Personal Information</h3>
                       
                       <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                           <div class="form-group">
                               <label for="firstName" class="block text-sm font-semibold text-gray-900 mb-2">
                                   First Name <span class="text-red-500">*</span>
                               </label>
                               <input type="text" id="firstName" name="firstName" class="form-input" required aria-required="true">
                               <div class="error-message" role="alert"></div>
                           </div>
                           
                           <div class="form-group">
                               <label for="lastName" class="block text-sm font-semibold text-gray-900 mb-2">
                                   Last Name <span class="text-red-500">*</span>
                               </label>
                               <input type="text" id="lastName" name="lastName" class="form-input" required aria-required="true">
                               <div class="error-message" role="alert"></div>
                           </div>
                       </div>

                       <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                           <div class="form-group">
                               <label for="email" class="block text-sm font-semibold text-gray-900 mb-2">
                                   Email Address <span class="text-red-500">*</span>
                               </label>
                               <input type="email" id="email" name="email" class="form-input" required aria-required="true">
                               <div class="error-message" role="alert"></div>
                           </div>
                           
                           <div class="form-group">
                               <label for="phone" class="block text-sm font-semibold text-gray-900 mb-2">
                                   Phone Number <span class="text-red-500">*</span>
                               </label>
                               <input type="tel" id="phone" name="phone" class="form-input" placeholder="(555) 123-4567" required aria-required="true">
                               <div class="error-message" role="alert"></div>
                           </div>
                       </div>

                       <div class="form-group mb-6">
                           <label for="city" class="block text-sm font-semibold text-gray-900 mb-2">
                               City/State of Interest <span class="text-red-500">*</span>
                           </label>
                           <input type="text" id="city" name="city" class="form-input" placeholder="e.g., Austin, TX" required aria-required="true">
                           <div class="error-message" role="alert"></div>
                       </div>
                   </div>

                   <!-- Financial Information -->
                   <div class="mb-12">
                       <h3 class="text-2xl font-display font-bold text-gray-900 mb-6">Financial Information</h3>
                       
                       <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                           <div class="form-group">
                               <label for="netWorth" class="block text-sm font-semibold text-gray-900 mb-2">
                                   Estimated Net Worth <span class="text-red-500">*</span>
                               </label>
                               <select id="netWorth" name="netWorth" class="form-select" required aria-required="true">
                                   <option value="">Select range</option>
                                   <option value="under-500k">Under $500,000</option>
                                   <option value="500k-1m">$500,000 - $1,000,000</option>
                                   <option value="1m-2m">$1,000,000 - $2,000,000</option>
                                   <option value="over-2m">Over $2,000,000</option>
                               </select>
                               <div class="error-message" role="alert"></div>
                           </div>
                           
                           <div class="form-group">
                               <label for="liquidCapital" class="block text-sm font-semibold text-gray-900 mb-2">
                                   Liquid Capital Available <span class="text-red-500">*</span>
                               </label>
                               <select id="liquidCapital" name="liquidCapital" class="form-select" required aria-required="true">
                                   <option value="">Select range</option>
                                   <option value="under-100k">Under $100,000</option>
                                   <option value="100k-150k">$100,000 - $150,000</option>
                                   <option value="150k-250k">$150,000 - $250,000</option>
                                   <option value="over-250k">Over $250,000</option>
                               </select>
                               <div class="error-message" role="alert"></div>
                           </div>
                       </div>

                       <div class="form-group mb-6">
                           <label for="timeframe" class="block text-sm font-semibold text-gray-900 mb-2">
                               Investment Timeframe <span class="text-red-500">*</span>
                           </label>
                           <select id="timeframe" name="timeframe" class="form-select" required aria-required="true">
                               <option value="">Select timeframe</option>
                               <option value="immediate">Immediate (0-3 months)</option>
                               <option value="short">Short-term (3-6 months)</option>
                               <option value="medium">Medium-term (6-12 months)</option>
                               <option value="long">Long-term (12+ months)</option>
                           </select>
                           <div class="error-message" role="alert"></div>
                       </div>
                   </div>

                   <!-- Background & Experience -->
                   <div class="mb-12">
                       <h3 class="text-2xl font-display font-bold text-gray-900 mb-6">Background & Experience</h3>
                       
                       <div class="form-group mb-6">
                           <label for="experience" class="block text-sm font-semibold text-gray-900 mb-2">
                               Business/Management Experience
                           </label>
                           <textarea id="experience" name="experience" rows="4" class="form-textarea" placeholder="Briefly describe your business or management experience..."></textarea>
                           <div class="error-message" role="alert"></div>
                       </div>

                       <div class="form-group mb-6">
                           <label for="message" class="block text-sm font-semibold text-gray-900 mb-2">
                               Why Brewtopia? <span class="text-red-500">*</span>
                           </label>
                           <textarea id="message" name="message" rows="5" class="form-textarea" placeholder="Tell us what excites you about joining the Brewtopia family and what you hope to bring to your community..." required aria-required="true"></textarea>
                           <div class="error-message" role="alert"></div>
                       </div>

                       <div class="form-group">
                           <label class="flex items-start gap-3 cursor-pointer">
                               <input type="checkbox" id="terms" name="terms" class="mt-1" required aria-required="true">
                               <span class="text-sm text-gray-700">
                                   I agree to receive information about Brewtopia franchise opportunities and understand that my information will be handled in accordance with the <a href="#" class="text-amber-600 hover:underline font-semibold">Privacy Policy</a>. <span class="text-red-500">*</span>
                               </span>
                           </label>
                           <div class="error-message" role="alert"></div>
                       </div>
                   </div>

                   <!-- Submit Button -->
                   <div class="text-center">
                       <button type="submit" id="submitBtn" class="px-12 py-4 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-bold text-lg rounded-full shadow-2xl hover:from-amber-600 hover:to-orange-700 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none">
                           <span id="submitText">Submit Application</span>
                           <span id="submitSpinner" class="spinner" style="display: none;"></span>
                       </button>
                       <p class="mt-4 text-sm text-gray-600">
                           We'll review your application and contact you within 48 hours
                       </p>
                   </div>
               </form>
           </div>
       </section>

       <!-- Contact Information -->
       <section class="py-16 px-6 bg-gradient-to-br from-gray-50 to-amber-50">
           <div class="container mx-auto max-w-5xl">
               <div class="text-center mb-12">
                   <h3 class="text-3xl font-display font-bold text-gray-900 mb-4">
                       Have Questions?
                   </h3>
                   <p class="text-lg text-gray-700">
                       Our franchise development team is here to help
                   </p>
               </div>

               <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                   <div class="bg-white p-8 rounded-2xl shadow-lg text-center">
                       <div class="w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-amber-400 to-orange-600 rounded-full flex items-center justify-center text-white text-2xl">
                           üìß
                       </div>
                       <h4 class="font-bold text-gray-900 mb-2 text-lg">Email Us</h4>
                       <p class="text-gray-700">franchise@brewtopia.com</p>
                       <p class="text-sm text-gray-600 mt-2">24-hour response time</p>
                   </div>

                   <div class="bg-white p-8 rounded-2xl shadow-lg text-center">
                       <div class="w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-amber-400 to-orange-600 rounded-full flex items-center justify-center text-white text-2xl">
                           üì±
                       </div>
                       <h4 class="font-bold text-gray-900 mb-2 text-lg">Call Us</h4>
                       <p class="text-gray-700">1-800-BREWTOPIA</p>
                       <p class="text-sm text-gray-600 mt-2">Mon-Fri 9AM-6PM EST</p>
                   </div>

                   <div class="bg-white p-8 rounded-2xl shadow-lg text-center">
                       <div class="w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-amber-400 to-orange-600 rounded-full flex items-center justify-center text-white text-2xl">
                           üìç
                       </div>
                       <h4 class="font-bold text-gray-900 mb-2 text-lg">Visit Us</h4>
                       <p class="text-gray-700">Portland, OR</p>
                       <p class="text-sm text-gray-600 mt-2">Schedule a tour</p>
                   </div>
               </div>
           </div>
       </section>
   </main>

   <!-- Success Modal - IMPROVEMENT #18 -->
   <div class="modal" id="successModal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
       <div class="modal-content">
           <div class="w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center">
               <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                   <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
               </svg>
           </div>
           <h3 id="modalTitle" class="text-3xl font-display font-bold text-gray-900 mb-4">Application Received!</h3>
           <p class="text-lg text-gray-700 mb-6">
               Thank you for your interest in Brewtopia. We've received your application and a member of our franchise development team will contact you within 48 hours.
           </p>
           <div class="bg-amber-50 p-4 rounded-xl mb-6">
               <p class="text-sm text-gray-700 font-semibold mb-2">What happens next?</p>
               <ul class="text-sm text-gray-700 text-left space-y-1">
                   <li>‚úì Initial consultation call (48 hours)</li>
                   <li>‚úì Preliminary financial review</li>
                   <li>‚úì Discovery Day invitation (if qualified)</li>
               </ul>
           </div>
           <button id="closeModal" class="px-8 py-3 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-bold rounded-full hover:from-amber-600 hover:to-orange-700 transition-all duration-300">
               Close
           </button>
       </div>
   </div>

   <!-- Sticky CTA - IMPROVEMENT #7 -->
   <div class="sticky-cta" id="stickyCta">
       <a href="#franchiseForm" class="flex items-center gap-3 px-6 py-4 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-bold rounded-full shadow-2xl hover:from-amber-600 hover:to-orange-700 transition-all duration-300">
           <span>Apply Now</span>
           <span>‚Üë</span>
       </a>
   </div>

   <!-- FOOTER -->
   <footer class="bg-gray-900 text-gray-300 py-16">
       <div class="container mx-auto px-6">
           <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8">
               <!-- Brand Column -->
               <div class="lg:col-span-2">
                   <div class="flex items-center space-x-2 mb-4">
                       <div class="w-8 h-8 bg-gradient-to-br from-amber-400 to-orange-600 rounded-full flex items-center justify-center text-white font-bold">‚òï</div>
                       <h4 class="text-2xl font-display font-bold text-white">Brewtopia</h4>
                   </div>
                   <p class="text-gray-400 mb-6 max-w-md">
                       Building communities one cup at a time. Join our franchise family or find your perfect role in our growing team.
                   </p>
                   <div class="flex space-x-4 mb-6">
                       <a href="#" class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-amber-600 transition-colors" aria-label="Facebook">
                           <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                       </a>
                       <a href="#" class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-amber-600 transition-colors" aria-label="Instagram">
                           <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/></svg>
                       </a>
                       <a href="#" class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-amber-600 transition-colors" aria-label="Twitter">
                           <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/></svg>
                       </a>
                   </div>
                   <div class="text-sm text-gray-400">
                       <p>Email: <a href="mailto:info@brewtopia.com" class="hover:text-amber-400">info@brewtopia.com</a></p>
                       <p>Phone: <a href="tel:1-800-BREWTOPIA" class="hover:text-amber-400">1-800-BREWTOPIA</a></p>
                   </div>
               </div>

               <!-- Company -->
               <div>
                   <h5 class="text-white font-semibold mb-4">Company</h5>
                   <ul class="space-y-2">
                       <li><a href="index.html" class="hover:text-amber-400 transition-colors">Home</a></li>
                       <li><a href="story.html" class="hover:text-amber-400 transition-colors">Our Story</a></li>
                       <li><a href="gallery.html" class="hover:text-amber-400 transition-colors">Gallery</a></li>
                       <li><a href="shop.html" class="hover:text-amber-400 transition-colors">Shop</a></li>
                   </ul>
               </div>

               <!-- Franchise -->
               <div>
                   <h5 class="text-white font-semibold mb-4">Franchise</h5>
                   <ul class="space-y-2">
                       <li><a href="franchise.html" class="hover:text-amber-400 transition-colors">Franchise Process</a></li>
                       <li><a href="contact.html" class="hover:text-amber-400 transition-colors">Apply Now</a></li>
                       <li><a href="locator.html" class="hover:text-amber-400 transition-colors">Find a Store</a></li>
                   </ul>
               </div>

               <!-- Careers -->
               <div>
                   <h5 class="text-white font-semibold mb-4">Join Our Team</h5>
                   <ul class="space-y-2">
                       <li><a href="careers.html" class="hover:text-amber-400 transition-colors">All Positions</a></li>
                       <li><a href="barista.html" class="hover:text-amber-400 transition-colors">Be a Barista</a></li>
                   </ul>
               </div>
           </div>

           <!-- Bottom Bar -->
           <div class="border-t border-gray-800 mt-12 pt-8">
               <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                   <p class="text-sm text-center md:text-left">
                       &copy; 2024 Brewtopia. All rights reserved.
                   </p>
                   <div class="flex flex-wrap gap-6 text-sm">
                       <a href="#" class="hover:text-amber-400 transition-colors">Privacy Policy</a>
                       <a href="#" class="hover:text-amber-400 transition-colors">Terms of Service</a>
                       <a href="#" class="hover:text-amber-400 transition-colors">Accessibility</a>
                       <a href="#" class="hover:text-amber-400 transition-colors">Sitemap</a>
                   </div>
               </div>
           </div>
       </div>
   </footer>

   <script>
       function updateProgressBar() {
           const scrollTop = window.scrollY;
           const docHeight = document.documentElement.scrollHeight - window.innerHeight;
           const scrollPercent = (scrollTop / docHeight) * 100;
           document.getElementById('progressBar').style.width = scrollPercent + '%';
       }
       
       window.addEventListener('scroll', updateProgressBar);

       window.addEventListener('scroll', function() {
           const navbar = document.getElementById('navbar');
           const stickyCta = document.getElementById('stickyCta');
           const form = document.getElementById('franchiseForm');
           const formRect = form.getBoundingClientRect();

           if (window.scrollY > 50) {
               navbar.style.boxShadow = '0 4px 6px rgba(0,0,0,0.1)';
           } else {
               navbar.style.boxShadow = 'none';
           }

           // Show sticky CTA when form is out of view
           if (formRect.bottom < 0 || formRect.top > window.innerHeight) {
               stickyCta.classList.add('show');
           } else {
               stickyCta.classList.remove('show');
           }
       });

       const mobileMenuBtn = document.getElementById('mobileMenuBtn');
       const mobileMenu = document.getElementById('mobileMenu');
       
       if (mobileMenuBtn && mobileMenu) {
           mobileMenuBtn.addEventListener('click', function() {
               const isExpanded = this.getAttribute('aria-expanded') === 'true';
               this.setAttribute('aria-expanded', !isExpanded);
               mobileMenu.classList.toggle('active');
           });

           document.addEventListener('click', function(event) {
               if (!mobileMenuBtn.contains(event.target) && !mobileMenu.contains(event.target)) {
                   mobileMenu.classList.remove('active');
                   mobileMenuBtn.setAttribute('aria-expanded', 'false');
               }
           });
       }

       // Form validation and submission - IMPROVEMENT #3
       const form = document.getElementById('franchiseForm');
       const submitBtn = document.getElementById('submitBtn');
       const submitText = document.getElementById('submitText');
       const submitSpinner = document.getElementById('submitSpinner');
       const successModal = document.getElementById('successModal');
       const closeModal = document.getElementById('closeModal');

       // Validation rules
       const validators = {
           firstName: (value) => value.trim().length >= 2 ? null : 'First name must be at least 2 characters',
           lastName: (value) => value.trim().length >= 2 ? null : 'Last name must be at least 2 characters',
           email: (value) => {
               const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
               return emailRegex.test(value) ? null : 'Please enter a valid email address';
           },
           phone: (value) => {
               const phoneRegex = /^[\d\s\-\(\)]+$/;
               return value.length >= 10 && phoneRegex.test(value) ? null : 'Please enter a valid phone number';
           },
           city: (value) => value.trim().length >= 2 ? null : 'Please enter a city and state',
           netWorth: (value) => value ? null : 'Please select your net worth range',
           liquidCapital: (value) => value ? null : 'Please select your liquid capital',
           timeframe: (value) => value ? null : 'Please select your investment timeframe',
           message: (value) => value.trim().length >= 20 ? null : 'Please provide at least 20 characters',
           terms: (checked) => checked ? null : 'You must agree to the terms'
       };

       // Real-time validation
       Object.keys(validators).forEach(fieldName => {
           const field = document.getElementById(fieldName);
           if (!field) return;

           const showError = (message) => {
               const errorMsg = field.closest('.form-group').querySelector('.error-message');
               if (errorMsg) {
                   errorMsg.textContent = message;
                   errorMsg.classList.add('show');
               }
               field.classList.add('error');
               field.classList.remove('success');
           };

           const showSuccess = () => {
               const errorMsg = field.closest('.form-group').querySelector('.error-message');
               if (errorMsg) {
                   errorMsg.classList.remove('show');
               }
               field.classList.remove('error');
               field.classList.add('success');
           };

           field.addEventListener('blur', () => {
               const value = field.type === 'checkbox' ? field.checked : field.value;
               const error = validators[fieldName](value);
               
               if (error && (field.value || field.checked)) {
                   showError(error);
               } else if (field.value || field.checked) {
                   showSuccess();
               }
           });

           field.addEventListener('input', () => {
               if (field.classList.contains('error')) {
                   const value = field.type === 'checkbox' ? field.checked : field.value;
                   const error = validators[fieldName](value);
                   if (!error) {
                       showSuccess();
                   }
               }
           });
       });

       // Form submission
       form.addEventListener('submit', async (e) => {
           e.preventDefault();

           // Validate all fields
           let hasErrors = false;
           Object.keys(validators).forEach(fieldName => {
               const field = document.getElementById(fieldName);
               if (!field) return;

               const value = field.type === 'checkbox' ? field.checked : field.value;
               const error = validators[fieldName](value);
               
               if (error) {
                   hasErrors = true;
                   const errorMsg = field.closest('.form-group').querySelector('.error-message');
                   if (errorMsg) {
                       errorMsg.textContent = error;
                       errorMsg.classList.add('show');
                   }
                   field.classList.add('error');
               }
           });

           if (hasErrors) {
               // Scroll to first error
               const firstError = document.querySelector('.error');
               if (firstError) {
                   firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
               }
               return;
           }

           // Show loading state
           submitBtn.disabled = true;
           submitText.style.display = 'none';
           submitSpinner.style.display = 'inline-block';

           // Simulate API call
           await new Promise(resolve => setTimeout(resolve, 2000));

           // Hide loading state
           submitBtn.disabled = false;
           submitText.style.display = 'inline';
           submitSpinner.style.display = 'none';

           // Show success modal
           successModal.classList.add('active');
           document.body.style.overflow = 'hidden';

           // Reset form
           form.reset();
           document.querySelectorAll('.form-input, .form-select, .form-textarea').forEach(field => {
               field.classList.remove('success', 'error');
           });
       });

       // Close modal
       closeModal.addEventListener('click', () => {
           successModal.classList.remove('active');
           document.body.style.overflow = 'auto';
       });

       successModal.addEventListener('click', (e) => {
           if (e.target === successModal) {
               successModal.classList.remove('active');
               document.body.style.overflow = 'auto';
           }
       });
   </script>
</body>
</html>